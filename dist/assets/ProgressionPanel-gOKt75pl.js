import{j as e}from"./game-components-CcU4nR_k.js";import{r as s,g as l,X as t,e as r,y as a,Y as i,a as n,B as o,b as d,Z as c,H as m}from"./ui-vendor-BCkruFiA.js";import"./react-vendor-DUpYbkpg.js";const x=({progression:x,onUpgradeSkill:g,onPrestige:h,onClose:b})=>{const[p,j]=s.useState("skills"),y=[{id:"combat_mastery",name:"Combat Mastery",description:"+5% ATK and DEF per level",icon:n,color:"text-red-400",maxLevel:10,cost:1},{id:"knowledge_boost",name:"Knowledge Boost",description:"+10% experience gain per level",icon:o,color:"text-blue-400",maxLevel:5,cost:2},{id:"treasure_hunter",name:"Treasure Hunter",description:"+15% coin and gem rewards per level",icon:r,color:"text-yellow-400",maxLevel:8,cost:2},{id:"durability_expert",name:"Durability Expert",description:"Items lose durability 20% slower per level",icon:d,color:"text-green-400",maxLevel:5,cost:3},{id:"streak_master",name:"Streak Master",description:"Knowledge streaks build 25% faster per level",icon:c,color:"text-purple-400",maxLevel:4,cost:3},{id:"health_regeneration",name:"Health Regeneration",description:"Restore 10% HP after each victory per level",icon:m,color:"text-pink-400",maxLevel:3,cost:4}],v=e=>x.unlockedSkills.filter(s=>s===e).length;return e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-purple-900 p-4 sm:p-6 rounded-lg border border-indigo-500/50 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l,{className:"w-6 h-6 sm:w-8 sm:h-8 text-indigo-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-lg sm:text-xl",children:"Progression System"}),e.jsx("p",{className:"text-indigo-300 text-sm",children:"Character Progression"})]})]}),e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(t,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex gap-2 mb-6",children:[{key:"skills",label:"Skills",icon:r},{key:"prestige",label:"Prestige",icon:a},{key:"mastery",label:"Mastery",icon:i}].map(({key:s,label:l,icon:t})=>e.jsxs("button",{onClick:()=>j(s),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all "+(p===s?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[e.jsx(t,{className:"w-4 h-4"}),l]},s))}),"skills"===p&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:y.map(s=>{const l=s.icon,t=v(s.id),r=(e=>v(e.id)<e.maxLevel)(s);return e.jsxs("div",{className:"bg-black/30 p-4 rounded-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(l,{className:`w-6 h-6 ${s.color}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold",children:s.name}),e.jsx("p",{className:"text-gray-300 text-sm",children:s.description})]})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("span",{className:"text-gray-300 text-sm",children:["Level ",t,"/",s.maxLevel]})}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${s.color.replace("text-","bg-")}`,style:{width:t/s.maxLevel*100+"%"}})}),e.jsx("button",{onClick:()=>g(s.id),disabled:!r,className:"w-full py-2 rounded-lg font-semibold transition-all text-sm "+(r?"bg-indigo-600 text-white hover:bg-indigo-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:t>=s.maxLevel?"Maxed":"Upgrade"})]},s.id)})}),"prestige"===p&&e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 p-6 rounded-lg border border-yellow-500/50 mb-6",children:[e.jsx(a,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-yellow-400 font-bold text-xl mb-2",children:"Prestige System"}),e.jsx("p",{className:"text-white mb-4",children:"Prestige system currently disabled"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("p",{className:"text-gray-300",children:["Current Prestige Level: ",x.prestigeLevel]}),e.jsxs("p",{className:"text-gray-300",children:["Prestige Points: ",x.prestigePoints]})]}),e.jsx("button",{onClick:h,disabled:!0,className:"px-6 py-3 rounded-lg font-bold transition-all bg-gray-600 text-gray-400 cursor-not-allowed",children:"Prestige Disabled"})]}),e.jsxs("div",{className:"bg-black/30 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-white font-bold mb-3",children:"Prestige Benefits"}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("p",{children:"• +10% coin and gem rewards per prestige level"}),e.jsx("p",{children:"• Unlock exclusive prestige skills"}),e.jsx("p",{children:"• Keep all achievements and collection progress"})]})]})]}),"mastery"===p&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"Category Mastery"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(x.masteryLevels).map(([s,l])=>e.jsxs("div",{className:"bg-black/30 p-4 rounded-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-white font-semibold",children:s}),e.jsxs("span",{className:"text-yellow-400 font-bold",children:["Level ",l]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 h-2 rounded-full transition-all",style:{width:`${Math.min(l/10*100,100)}%`}})}),e.jsxs("p",{className:"text-gray-300 text-sm mt-2",children:["+",5*l,"% accuracy bonus in ",s]})]},s))})]})]})})};export{x as ProgressionPanel};
